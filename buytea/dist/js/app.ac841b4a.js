(function(e){function t(t){for(var n,o,s=t[0],c=t[1],d=t[2],l=0,p=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(p.length)p.shift()();return a.push.apply(a,d||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,s=1;s<r.length;s++){var c=r[s];0!==i[c]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},i={app:0},a=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var u=c;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"064b":function(e,t,r){},"1b3a":function(e,t,r){"use strict";var n=r("064b"),i=r.n(n);i.a},"1dc6":function(e,t,r){"use strict";var n=r("df38"),i=r.n(n);i.a},2882:function(e,t,r){"use strict";var n=r("a55c"),i=r.n(n);i.a},"28b6":function(e,t,r){e.exports=r.p+"img/edit.2927f8de.svg"},"323d":function(e,t,r){"use strict";var n=r("dda6"),i=r.n(n);i.a},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),i=function(){var e=this,t=this,r=t.$createElement,n=t._self._c||r;return n("div",{attrs:{id:"app"}},[n("header",{staticClass:"header"},[n("NavBar",{on:{togglePopup:t.togglePopup}})],1),n("main",{staticClass:"main"},[n("h1",{staticClass:"main__heading"},[t._v("your order")]),t._l(t.orders,(function(e){return n("OrderCard",{key:e.id,attrs:{order:e},on:{handleEdit:t.handleEdit}})}))],2),n("div",{directives:[{name:"show",rawName:"v-show",value:t.orders.length>0,expression:"orders.length > 0"}],staticClass:"footer"},[n("p",{staticClass:"footer__total"},[t._v("Total：")]),n("p",{staticClass:"footer__total"},[t._v("$"+t._s(t.total))])]),n("Popup",{directives:[{name:"show",rawName:"v-show",value:t.isPopupShow,expression:"isPopupShow"}],attrs:{type:t.popupType},on:{togglePopup:t.togglePopup,submit:t.addOrder,edit:t.editOrder}},[n("OrderForm",{attrs:{isWarningShow:t.isWarningShow,name:t.newName,description:t.newDescription,price:t.newPrice,quantity:t.newQuantity},on:{handleName:function(t){e.newName=t},handleDescription:function(t){e.newDescription=t},handlePrice:function(t){e.newPrice=t},handleQuantity:function(t){e.newQuantity=t}}})],1)],1)},a=[],o=(r("a4d3"),r("e01a"),r("13d5"),r("b0c0"),r("d3b7"),r("25f0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"navbar"},[r("a",{staticClass:"btn btn--brand",attrs:{href:"#"}},[e._v("BuyTea")]),r("a",{staticClass:"btn btn--addBtn",attrs:{href:"#"},on:{click:function(t){return e.$emit("togglePopup")}}},[e._v("NewOrder")])])}),s=[],c={},d=c,u=(r("1dc6"),r("2877")),l=Object(u["a"])(d,o,s,!1,null,"52a50364",null),p=l.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"order-card"},[n("div",{staticClass:"cancel"},[n("a",{staticClass:"btn btn--cancel",attrs:{href:"#"},on:{click:e.removeOrder}},[e._v("×")])]),n("div",{staticClass:"content"},[n("h1",{staticClass:"content__name"},[e._v(" "+e._s(e.order.name)+" "),n("a",{staticClass:"btn btn--edit",attrs:{href:"#"},on:{click:function(t){return e.$emit("handleEdit",e.order)}}},[n("img",{staticClass:"btn--edit-img",attrs:{src:r("28b6"),alt:"Edit"}})])]),n("p",{staticClass:"content__description"},[e._v(e._s(e.order.description))])]),n("div",{staticClass:"price"},[n("em",{staticClass:"price__text"},[e._v("$"+e._s(e.order.price))])]),n("div",{staticClass:"quantity"},[n("a",{staticClass:"btn btn--quantity",attrs:{href:"#"},on:{click:e.decreaseQuantity}},[e._v("−")]),n("p",{staticClass:"quantity__text"},[e._v(e._s(e.order.quantity))]),n("a",{staticClass:"btn btn--quantity",attrs:{href:"#"},on:{click:e.increaseQuantity}},[e._v("+")])])])},f=[],h={props:{order:Object},methods:{removeOrder:function(){this.$store.dispatch("removeOrder",this.order)},increaseQuantity:function(){var e=Object.assign({},this.order);e.quantity++,this.$store.dispatch("updateOrder",e)},decreaseQuantity:function(){if(1===this.order.quantity)this.$store.dispatch("removeOrder",this.order);else{var e=Object.assign({},this.order);e.quantity--,this.$store.dispatch("updateOrder",e)}}}},v=h,g=(r("1b3a"),Object(u["a"])(v,m,f,!1,null,"29b8d45e",null)),_=g.exports,w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{staticClass:"orderForm"},[r("div",{staticClass:"orderForm__group"},[r("label",{attrs:{for:"orderName"}},[e._v("飲料名稱:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.modelName,expression:"modelName"}],staticClass:"orderForm__control",attrs:{type:"text",id:"orderName",placeholder:"高山茶"},domProps:{value:e.modelName},on:{input:function(t){t.target.composing||(e.modelName=t.target.value)}}}),r("label",{directives:[{name:"show",rawName:"v-show",value:e.isWarningShow,expression:"isWarningShow"}],staticClass:"orderForm__warning"},[e._v("＊請輸入飲料名稱")])]),r("div",{staticClass:"orderForm__group"},[r("label",{attrs:{for:"orderDescription"}},[e._v("備註:")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.modelDescription,expression:"modelDescription"}],staticClass:"orderForm__control",attrs:{type:"text",id:"orderDescription",placeholder:"冰塊 / 甜度"},domProps:{value:e.modelDescription},on:{input:function(t){t.target.composing||(e.modelDescription=t.target.value)}}})]),r("div",{staticClass:"orderForm__group"},[r("label",{attrs:{for:"price"}},[e._v("價錢:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.modelPrice,expression:"modelPrice"}],staticClass:"orderForm__control",attrs:{type:"number",id:"price",placeholder:"20"},domProps:{value:e.modelPrice},on:{input:function(t){t.target.composing||(e.modelPrice=t.target.value)}}})]),r("div",{staticClass:"orderForm__group"},[r("label",{attrs:{for:"quantity"}},[e._v("數量:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.modelQuantity,expression:"modelQuantity"}],staticClass:"orderForm__control",attrs:{type:"number",id:"quantity",placeholder:"1"},domProps:{value:e.modelQuantity},on:{input:function(t){t.target.composing||(e.modelQuantity=t.target.value)}}})])])},b=[],y=(r("a9e3"),{props:{name:String,description:String,price:{type:Number,default:20},quantity:{type:Number,default:1},isWarningShow:{type:Boolean,default:!1}},computed:{modelName:{get:function(){return this.name},set:function(e){this.$emit("handleName",e)}},modelDescription:{get:function(){return this.description},set:function(e){this.$emit("handleDescription",e)}},modelPrice:{get:function(){return this.price},set:function(e){this.$emit("handlePrice",parseInt(e))}},modelQuantity:{get:function(){return this.quantity},set:function(e){this.$emit("handleQuantity",parseInt(e))}}}}),O=y,C=(r("323d"),Object(u["a"])(O,w,b,!1,null,"13d23efc",null)),P=C.exports,x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"popup"},[r("div",{staticClass:"popup__container"},[r("div",{staticClass:"popup__header"},[r("h1",{staticClass:"popup__heading"},[e._v("New Order")]),r("a",{staticClass:"btn btn--close",attrs:{href:"#"},on:{click:function(t){return e.$emit("togglePopup")}}},[e._v("×")])]),r("div",{staticClass:"popup__body"},[e._t("default")],2),r("div",{staticClass:"popup__footer"},[r("a",{staticClass:"btn btn--send",attrs:{href:"#"},on:{click:function(t){return e.$emit("add"===e.type?"submit":"edit")}}},[e._v("送出")])])])])},N=[],S={props:{type:{type:String,default:"add"}}},q=S,$=(r("2882"),Object(u["a"])(q,x,N,!1,null,"d59bff3c",null)),j=$.exports,D={name:"App",components:{NavBar:p,OrderCard:_,OrderForm:P,Popup:j},data:function(){return{isPopupShow:!1,isWarningShow:!1,popupType:"add",orderID:"",newName:"",newDescription:"",newPrice:20,newQuantity:1}},computed:{total:function(){var e=0;return 0===this.orders.length?e:this.orders.reduce((function(e,t){return e+t.price*t.quantity}),0)},orders:function(){return this.$store.getters.orders}},methods:{togglePopup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add";this.popupType=e,this.isPopupShow=!this.isPopupShow},addOrder:function(){if(""!==this.newName){this.isWarningShow=!1;var e={id:this.randomId(),name:this.newName,description:this.newDescription,price:this.newPrice,quantity:this.newQuantity};this.$store.dispatch("newOrder",e),this.clearForm(),this.togglePopup()}else this.isWarningShow=!0},editOrder:function(){var e={id:this.orderID,name:this.newName,description:this.newDescription,price:this.newPrice,quantity:this.newQuantity};this.$store.dispatch("updateOrder",e),this.clearForm(),this.togglePopup()},randomId:function(){return Math.random().toString(36).substr(2)},clearForm:function(){this.newName="",this.newDescription="",this.newPrice=20,this.newQuantity=1},handleEdit:function(e){this.orderID=e.id,this.newName=e.name,this.newDescription=e.description,this.newPrice=e.price,this.newQuantity=e.quantity,this.togglePopup("edit")}}},Q=D,F=(r("5c0b"),Object(u["a"])(Q,i,a,!1,null,null,null)),k=F.exports,I=r("2f62"),E=(r("96cf"),r("1da1")),T={newOrder:function(e,t){return Object(E["a"])(regeneratorRuntime.mark((function r(){var n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,i=e.getters,r.next=3,n("newOrder",t);case 3:localStorage.setItem("orders",JSON.stringify(i.orders));case 4:case"end":return r.stop()}}),r)})))()},removeOrder:function(e,t){return Object(E["a"])(regeneratorRuntime.mark((function r(){var n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,i=e.getters,r.next=3,n("removeOrder",t);case 3:localStorage.setItem("orders",JSON.stringify(i.orders));case 4:case"end":return r.stop()}}),r)})))()},updateOrder:function(e,t){return Object(E["a"])(regeneratorRuntime.mark((function r(){var n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,i=e.getters,r.next=3,n("updateOrder",t);case 3:localStorage.setItem("orders",JSON.stringify(i.orders));case 4:case"end":return r.stop()}}),r)})))()}},W=T,J={orders:function(e){return e.orders}},R=J,B=(r("99af"),r("c975"),r("d81d"),r("a434"),{newOrder:function(e,t){e.orders=e.orders.concat(t)},removeOrder:function(e,t){e.orders.splice(e.orders.indexOf(t),1)},updateOrder:function(e,t){e.orders=e.orders.map((function(e){return e.id===t.id?t:e}))}}),M=B,A={orders:localStorage.getItem("orders")?JSON.parse(localStorage.getItem("orders")):[{id:1,name:"高山茶",description:"無糖少冰，不是最高山的不喝，Id duis sint in sint veniam occaecat eiusmod esse sit magna officia mollit ea. Ullamco veniam quis amet deserunt id culpa tempor. Occaecat quis occaecat nostrud culpa eu Lorem mollit et in et minim. Sint officia id ea aute do amet aute eiusmod eu dolor ipsum. Sint veniam Lorem excepteur velit quis ad esse sint esse esse. Aliquip ex incididunt qui sunt. Excepteur non aliquip sint dolor id velit adipisicing laboris.",price:20,quantity:1}]},L=A;n["a"].use(I["a"]);var U=new I["a"].Store({state:L,getters:R,actions:W,mutations:M}),z=U;n["a"].config.productionTip=!1,new n["a"]({store:z,render:function(e){return e(k)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";var n=r("9c0c"),i=r.n(n);i.a},"9c0c":function(e,t,r){},a55c:function(e,t,r){},dda6:function(e,t,r){},df38:function(e,t,r){}});
//# sourceMappingURL=app.ac841b4a.js.map